# Email Tone Analyzer Agent Configuration

log:
  stdout_log_level: INFO
  log_file_level: INFO
  log_file: email-tone-analyzer.log

# Shared SAM config
!include ../shared_config.yaml

apps:
  - name: email-tone-analyzer_app
    app_base_path: .
    app_module: solace_agent_mesh.agent.sac.app
    broker:
      <<: *broker_connection

    app_config:
      namespace: ${NAMESPACE}
      supports_streaming: true
      agent_name: "EmailToneAnalyzer"
      display_name: "Email Tone Analyzer"
      model:
        <<: *general_model
        max_tokens: 300

      instruction: |
        Analyze the email's emotional tone. Return JSON only, no markdown.

        Pick one emotion: happy, sad, angry, excited, frustrated, neutral, anxious, grateful, disappointed, enthusiastic, sarcastic, professional, urgent, apologetic.

        Response format (keep explanation under 20 words):
        {"primary_emotion": "emotion", "confidence": "high|medium|low", "explanation": "brief reason"}

      inject_system_purpose: true
      inject_response_format: true
      inject_user_profile: true
      session_service:
        type: "memory"
        default_behavior: "RUN_BASED"
      artifact_service: *default_artifact_service
      artifact_handling_mode: "reference"
      enable_embed_resolution: true
      enable_artifact_content_instruction: true
      data_tools_config: *default_data_tools_config
      tools: []

      agent_card:
        description: "Analyzes the emotional tone of emails and text passages, identifying the primary emotion conveyed."
        defaultInputModes: [text]
        defaultOutputModes: [text]
        skills:
        - id: tone_analysis
          name: Tone Analysis
          description: Examines text to determine emotional tone and primary sentiment, classifying into specific emotion categories.

      agent_card_publishing:
        interval_seconds: 10
      agent_discovery:
        enabled: true
      inter_agent_communication:
        allow_list: ["*"]
        request_timeout_seconds: 300